definitions:
  auth.Credentials:
    properties:
      password:
        type: string
      username:
        type: string
    type: object
  dto.ConformityPageResponse:
    properties:
      paging:
        $ref: '#/definitions/dto.PageResponse'
      results:
        description: Array of salt conformity results
        items:
          $ref: '#/definitions/model.Conformity'
        type: array
    type: object
  dto.HighStatePageResponse:
    properties:
      paging:
        $ref: '#/definitions/dto.PageResponse'
      results:
        description: Array of salt highstate results
        items:
          $ref: '#/definitions/model.HighState'
        type: array
    type: object
  dto.JIDPageResponse:
    properties:
      paging:
        $ref: '#/definitions/dto.PageResponse'
      results:
        description: Array of salt jid results
        items:
          $ref: '#/definitions/model.JID'
        type: array
    type: object
  dto.PageResponse:
    properties:
      count:
        description: Total number of items that match the query
        type: integer
      next:
        description: URL to the next page of results
        type: string
      num_pages:
        description: Total number of pages that match the query
        type: integer
      per_page:
        description: Total number of items per page that match the query
        type: integer
      previous:
        description: URL to the previous page of results
        type: string
    type: object
  dto.SaltCachePageResponse:
    properties:
      paging:
        $ref: '#/definitions/dto.PageResponse'
      results:
        description: Array of salt cache results
        items:
          $ref: '#/definitions/model.SaltCache'
        type: array
    type: object
  dto.SaltEventPageResponse:
    properties:
      paging:
        $ref: '#/definitions/dto.PageResponse'
      results:
        description: Array of salt event results
        items:
          $ref: '#/definitions/model.SaltEvent'
        type: array
    type: object
  dto.SaltReturnPageResponse:
    properties:
      paging:
        $ref: '#/definitions/dto.PageResponse'
      results:
        description: Array of salt return results
        items:
          $ref: '#/definitions/model.SaltReturn'
        type: array
    type: object
  github_com_jackc_pgtype.JSON:
    properties:
      bytes:
        items:
          type: integer
        type: array
      status:
        $ref: '#/definitions/github_com_jackc_pgtype.Status'
    type: object
  github_com_jackc_pgtype.JSONB:
    properties:
      bytes:
        items:
          type: integer
        type: array
      status:
        $ref: '#/definitions/github_com_jackc_pgtype.Status'
    type: object
  github_com_jackc_pgtype.Status:
    enum:
    - 0
    - 1
    - 2
    type: integer
    x-enum-varnames:
    - Undefined
    - "Null"
    - Present
  github_com_jackc_pgx_pgtype.JSONB:
    properties:
      bytes:
        items:
          type: integer
        type: array
      status:
        $ref: '#/definitions/github_com_jackc_pgx_pgtype.Status'
    type: object
  github_com_jackc_pgx_pgtype.Status:
    enum:
    - 0
    - 1
    - 2
    type: integer
    x-enum-varnames:
    - Undefined
    - "Null"
    - Present
  httputil.HTTPError:
    properties:
      code:
        example: 400
        type: integer
      message:
        example: status bad request
        type: string
    type: object
  model.AuthUser:
    properties:
      dateJoined:
        type: string
      email:
        type: string
      firstName:
        type: string
      id:
        type: integer
      isActive:
        type: boolean
      isStaff:
        type: boolean
      isSuperuser:
        type: boolean
      lastLogin:
        type: string
      lastName:
        type: string
      password:
        type: string
      username:
        type: string
    type: object
  model.Conformity:
    properties:
      alterTime:
        type: string
      changedCount:
        type: integer
      falseCount:
        type: integer
      id:
        type: string
      success:
        type: string
      trueCount:
        type: integer
      unchangedCount:
        type: integer
      user:
        type: string
    type: object
  model.HighState:
    properties:
      alterTime:
        type: string
      fullRet:
        $ref: '#/definitions/github_com_jackc_pgtype.JSON'
      fun:
        type: string
      id:
        type: string
      jid:
        type: string
      return:
        $ref: '#/definitions/github_com_jackc_pgtype.JSON'
      success:
        type: string
      user:
        type: string
    type: object
  model.JID:
    properties:
      alterTime:
        type: string
      jid:
        type: string
      load:
        $ref: '#/definitions/github_com_jackc_pgtype.JSON'
    type: object
  model.SaltCache:
    properties:
      bank:
        type: string
      data:
        $ref: '#/definitions/github_com_jackc_pgx_pgtype.JSONB'
      dataChanged:
        type: string
      id:
        type: string
      psqlkey:
        type: string
    type: object
  model.SaltEvent:
    properties:
      alterTime:
        type: string
      data:
        type: string
      id:
        type: integer
      masterID:
        type: string
      tag:
        type: string
    type: object
  model.SaltReturn:
    properties:
      alterTime:
        type: string
      fullRet:
        $ref: '#/definitions/github_com_jackc_pgtype.JSON'
      fun:
        type: string
      id:
        type: string
      jid:
        type: string
      return:
        $ref: '#/definitions/github_com_jackc_pgtype.JSON'
      success:
        type: string
      uuid:
        type: string
    type: object
  model.UserSettings:
    properties:
      created:
        type: string
      saltPermissions:
        type: string
      settings:
        $ref: '#/definitions/github_com_jackc_pgtype.JSONB'
      token:
        type: string
      user:
        $ref: '#/definitions/model.AuthUser'
      userID:
        type: integer
    type: object
info:
  contact:
    email: pmartin@gatech.edu
    name: API Support
    url: http://oit.gatech.edu
  description: This the Agartha API Backend
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  title: Agartha API
  version: "1.0"
paths:
  /api/v1/conformity:
    get:
      consumes:
      - application/json
      description: Get paginated conformity items with count and navigation links.
      parameters:
      - description: Number of items per page
        in: query
        name: limit
        type: integer
      - description: Page number of results to retrieve
        in: query
        name: page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.ConformityPageResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.HTTPError'
      security:
      - Bearer: []
      tags:
      - Conformity
  /api/v1/conformity/{id}:
    get:
      consumes:
      - application/json
      description: Get all GetConformity
      parameters:
      - description: conformity object to get
        in: path
        name: id
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.Conformity'
      security:
      - Bearer: []
      tags:
      - Conformity
  /api/v1/high_state:
    get:
      consumes:
      - application/json
      description: Get all HighStates
      parameters:
      - description: Page number of results to retrieve
        in: query
        name: page
        type: integer
      - description: restrict to X results
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.HighStatePageResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.HTTPError'
      security:
      - Bearer: []
      tags:
      - HighState
  /api/v1/high_state/{id}:
    get:
      consumes:
      - application/json
      description: Get all HighStates for a specific id
      parameters:
      - description: id of the salt return item to retrieve
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/model.HighState'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.HTTPError'
      security:
      - Bearer: []
      tags:
      - HighState
  /api/v1/high_state/jid/{jid}:
    get:
      consumes:
      - application/json
      description: Get all HighStates for a specific jid
      parameters:
      - description: jid of the salt return item to retrieve
        in: path
        name: jid
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/model.HighState'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.HTTPError'
      security:
      - Bearer: []
      tags:
      - HighState
  /api/v1/jid:
    get:
      consumes:
      - application/json
      description: Get paginated jids with count and navigation links.
      parameters:
      - description: Filter items from this date (RFC3339 format).
        in: query
        name: since
        type: string
      - description: Filter items up to this date (RFC3339 format).
        in: query
        name: until
        type: string
      - description: Page number of results to retrieve
        in: query
        name: page
        type: integer
      - description: Number of items per page
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.JIDPageResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.HTTPError'
      security:
      - Bearer: []
      tags:
      - JID
  /api/v1/jid/{jid}:
    get:
      consumes:
      - application/json
      description: Get one jid by JID
      parameters:
      - description: jid to return
        in: path
        name: jid
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.JID'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.HTTPError'
      security:
      - Bearer: []
      tags:
      - JID
  /api/v1/salt_cache:
    get:
      consumes:
      - application/json
      description: Retrieve a list of salt_cache items filtered by bank and key with
        pagination support.
      parameters:
      - description: Bank of the cached item to search (Supports wildcards * and ?
          for single char matches.)
        in: query
        name: bank
        type: string
      - description: Key of the cached item to search (Supports wildcards * and ?
          for single char matches.)
        in: query
        name: key
        type: string
      - description: Load the data field. This defaults to false for performance reasons
        in: query
        name: load_data
        type: boolean
      - description: Filter items from this date (RFC3339 format).
        in: query
        name: since
        type: string
      - description: Filter items up to this date (RFC3339 format).
        in: query
        name: until
        type: string
      - description: Page number of results to retrieve
        in: query
        name: page
        type: integer
      - description: Number of items per page
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.SaltCachePageResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.HTTPError'
      security:
      - Bearer: []
      tags:
      - SaltCache
  /api/v1/salt_cache/{bank}/{key}:
    delete:
      consumes:
      - application/json
      description: Delete one salt_cache item by bank and key
      parameters:
      - description: bank of the salt cache item to delete
        in: path
        name: bank
        required: true
        type: string
      - description: key of the salt cache item to delete
        in: path
        name: key
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.SaltCache'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.HTTPError'
      security:
      - Bearer: []
      tags:
      - SaltCache
    get:
      consumes:
      - application/json
      description: Get one salt_cache item by bank and key
      parameters:
      - description: bank of the salt cache item to retrieve
        in: path
        name: bank
        required: true
        type: string
      - description: key of the salt cache item to retrieve
        in: path
        name: key
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.SaltCache'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.HTTPError'
      security:
      - Bearer: []
      tags:
      - SaltCache
  /api/v1/salt_cache/uuid/{uuid}:
    delete:
      consumes:
      - application/json
      description: Delete one salt_cache item by UUID
      parameters:
      - description: uuid of the salt cache item to delete
        in: path
        name: uuid
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.SaltCache'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.HTTPError'
      security:
      - Bearer: []
      tags:
      - SaltCache
    get:
      consumes:
      - application/json
      description: Get one salt_cache item by UUID
      parameters:
      - description: uuid of the salt cache item to retrieve
        in: path
        name: uuid
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.SaltCache'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.HTTPError'
      security:
      - Bearer: []
      tags:
      - SaltCache
  /api/v1/salt_event:
    get:
      consumes:
      - application/json
      description: Get all SaltEvents
      parameters:
      - description: tag of the event sent to the master (Supports wildcards * and
          ? for single char matches.)
        in: query
        name: tag
        type: string
      - description: id of the master that received the event
        in: query
        name: master_id
        type: string
      - description: Filter items from this date (RFC3339 format).
        in: query
        name: since
        type: string
      - description: Filter items up to this date (RFC3339 format).
        in: query
        name: until
        type: string
      - description: Page number of results to retrieve
        in: query
        name: page
        type: integer
      - description: restrict to X results
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.SaltEventPageResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.HTTPError'
      security:
      - Bearer: []
      tags:
      - SaltEvent
  /api/v1/salt_event/{id}:
    get:
      consumes:
      - application/json
      description: Get all SaltEvents
      parameters:
      - description: return salt event with given id
        in: path
        name: id
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.SaltEvent'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.HTTPError'
      security:
      - Bearer: []
      tags:
      - SaltEvent
  /api/v1/salt_return:
    get:
      consumes:
      - application/json
      description: Get all SaltReturns
      parameters:
      - description: Filter items by minion id (Supports wildcards * and ? for single
          char matches.)
        in: query
        name: minion_id
        type: string
      - description: Filter items by function (Supports wildcards * and ? for single
          char matches.)
        in: query
        name: fun
        type: string
      - description: Filter items by success status (true/false). This can be null
          so it's a string in the database.
        in: query
        name: success
        type: string
      - description: Filter items from this date (RFC3339 format).
        in: query
        name: since
        type: string
      - description: Filter items up to this date (RFC3339 format).
        in: query
        name: until
        type: string
      - description: restrict to X results
        in: query
        name: per_page
        type: integer
      - description: Page number of results to retrieve
        in: query
        name: page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.SaltReturnPageResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.HTTPError'
      security:
      - Bearer: []
      tags:
      - SaltReturn
  /api/v1/salt_return/{jid}:
    get:
      consumes:
      - application/json
      description: Get all SaltReturns for a specific jid
      parameters:
      - description: jid of the salt return item to retrieve
        in: path
        name: jid
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/model.SaltReturn'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.HTTPError'
      security:
      - Bearer: []
      tags:
      - SaltReturn
  /api/v1/user_settings/{id}:
    get:
      consumes:
      - application/json
      description: Get one userSetting by UserSetting
      parameters:
      - description: userSettings to return
        in: path
        name: id
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.UserSettings'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.HTTPError'
      security:
      - Bearer: []
      tags:
      - UserSetting
  /auth/token:
    post:
      consumes:
      - application/json
      description: Creates a new jwt token for the specified user
      parameters:
      - description: Credentials
        in: body
        name: credentials
        required: true
        schema:
          $ref: '#/definitions/auth.Credentials'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: string
      tags:
      - auth
  /ping:
    get:
      consumes:
      - application/json
      description: Pings the server to see if it is alive.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/httputil.HTTPError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.HTTPError'
      summary: ping the server
      tags:
      - Ping
securityDefinitions:
  Bearer:
    description: Type "Bearer" followed by a space and JWT token.
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
